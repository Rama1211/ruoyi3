<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:include="include :: header('修改访客信息')"/>
</head>
<body class="white-bg">
<div class="wrapper wrapper-content animated fadeInRight ibox-content">
    <form class="form-horizontal m" id="form-dorm-edit" th:object="${repair}">
        <input id="visitorId" name="visitorId" type="hidden" th:field="*{repairId}"/>
        <div class="form-group">
            <label class="col-sm-3 control-label is-required">所在校区：</label>
            <div class="col-sm-8">
                <input class="form-control" type="text" name="repairCampus" readonly id="repairCampus"
                       th:field="*{repairCampus}" required>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label is-required">所在楼栋：</label>
            <div class="col-sm-8">
                <input class="form-control" type="text" name="repairFloor" readonly id="repairFloor"
                       th:field="*{repairFloor}" required>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label is-required">宿舍号：</label>
            <div class="col-sm-8">
                <input class="form-control" type="text" name="repairDormId" readonly id="repairDormId"
                       th:field="*{repairDormId}" required>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label is-required">报修学生姓名：</label>
            <div class="col-sm-8">
                <input class="form-control" type="text" name="repairStudentName" readonly id="repairStudentName" th:field="*{repairStudentName}"
                       required>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label is-required">报修学生联系方式：</label>
            <div class="col-sm-8">
                <input class="form-control" type="text" name="repairStudentPhone" readonly id="repairStudentPhone" th:field="*{repairStudentPhone}"
                       required>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label is-required">学号：</label>
            <div class="col-sm-8">
                <input class="form-control" type="text" name="repairStudentNum" readonly id="repairStudentNum" th:field="*{repairStudentNum}"
                       required>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label is-required">报修原因及备注：</label>
            <div class="col-sm-8">
                <textarea class="form-control" name="repairRemark" id="repairRemark" th:field="*{repairRemark}" required></textarea>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label is-required">报修时间：</label>
            <div class="col-sm-8">
                <input class="form-control" type="text" name="repairDeclareTime" readonly id="repairDeclareTime"
                       th:field="*{repairDeclareTime}" required>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label is-required">处理结果：</label>
            <div class="col-sm-8">
                <textarea class="form-control" name="repairResult" id="repairResult" th:field="*{repairResult}" required></textarea>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label is-required">处理时间：</label>
            <div class="col-sm-8">
                <input class="form-control" type="text" name="repairCompleteTime"  placeholder="yyyy-MM-dd" id="repairCompleteTime"
                       th:field="*{repairCompleteTime}" required>
            </div>
        </div>
    </form>
</div>
<th:block th:include="include :: footer"/>
<th:block th:include="include :: datetimepicker-js"/>
<script type="text/javascript">
    var prefix = ctx + "repair/repairInfo";
    $(function () {
        $("#repairCompleteTime").datetimepicker({
            format: "yyyy-mm-dd",
            minView: "month",
            autoclose: true
        });
    })
    function Todate(num) { //Fri Oct 31 18:00:00 UTC+0800 2008
        num = num + "";
        var date = "";
        var month = new Array();
        month["Jan"] = 1; month["Feb"] = 2; month["Mar"] = 3; month["Apr"] = 4; month["May"] = 5; month["Jan"] = 6;
        month["Jul"] = 7; month["Aug"] = 8; month["Sep"] = 9; month["Oct"] = 10; month["Nov"] = 11; month["Dec"] = 12;
        var week = new Array();
        week["Mon"] = "一"; week["Tue"] = "二"; week["Wed"] = "三"; week["Thu"] = "四"; week["Fri"] = "五"; week["Sat"] = "六"; week["Sun"] = "日";
        str = num.split(" ");
        date = str[5] + "-";
        date = date + month[str[1]] + "-" + str[2];
        return date;
    }
    function submitHandler() {
        if ($.validate.form()) {
            $.operate.save(prefix + "/edit", $('#form-dorm-edit').serialize());
        }
    }
</script>
</body>
</html>
